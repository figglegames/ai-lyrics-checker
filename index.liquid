<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Lyrics Detector – Free AI Lyrics Checker</title>
  <meta name="description" content="Paste lyrics and find out instantly if they were written by a human or AI. Fast, private, and free – made just for song lyrics." />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=IBM+Plex+Mono&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #f9fafa;
      color: #222;
      padding: 2rem;
      max-width: 800px;
      margin: auto;
      text-align: center;
    }
    .wide-line {
      max-width: 960px;
      margin: 0 auto;
    }
    nav {
      text-align: right;
      margin-bottom: 2rem;
    }
    nav a {
      margin-left: 1.5rem;
      color: #444;
      text-decoration: none;
      font-weight: 500;
      font-size: 0.95rem;
    }
    nav a:hover {
      text-decoration: underline;
    }
    h1 {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 0.4rem;
    }
    p.description {
      font-size: 1.2rem;
      font-weight: 500;
      margin-bottom: 0.3rem;
    }
    p.tagline {
      font-size: 1rem;
      color: #333;
      margin: 0.3rem 0;
    }
    textarea {
      width: 100%;
      max-width: 100%;
      height: 220px;
      font-family: 'IBM Plex Mono', monospace;
      font-size: 1rem;
      padding: 1rem;
      border: 2px solid #99ccee;
      border-radius: 8px;
      background: #ffffff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      box-sizing: border-box;
    }
    button {
      margin-top: 1.2rem;
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      background: #007acc;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background: #005fa3;
    }
    
    #softError {
      display: none;
      margin-top: 1.5rem;
      color: #a00;
      font-weight: 500;
      background: #ffecec;
      padding: 1rem;
      border-radius: 8px;
      border: 1px solid #f5b4b4;
    }
    footer {
      margin-top: 3rem;
      font-size: 0.85rem;
      color: #666;
    }
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.4);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    .modal-box {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.25);
      width: 100%;
      max-width: 540px;
      padding: 2rem 1.5rem 1.8rem;
      text-align: center;
      font-family: 'Inter', sans-serif;
      position: relative;
      overflow: hidden;
      border-top: 8px solid #22aa66; /* this color is updated dynamically */
      transition: all 0.3s ease;
    }

    .modal-box h2 {
      font-size: 1.8rem;
      font-weight: 700;
      margin: 0 0 0.6rem;
      color: #111;
    }
    .modal-box p#verdictMessage {
      font-size: 1.1rem;
      font-weight: 500;
      color: #333;
      margin: 0 auto 1.2rem;
      line-height: 1.4;
      max-width: 90%;
    }

    .modal-box .disclaimer {
      font-size: 0.85rem;
      margin-top: 1rem;
      color: #666;
    }
    .close-btn {
      position: absolute;
      top: 12px;
      right: 16px;
      font-size: 1.4rem;
      font-weight: bold;
      color: #aaa;
      cursor: pointer;
      transition: color 0.2s ease;
    }

    .close-btn:hover {
      color: #444;
    }

    .blurred {
      filter: blur(5px);
      pointer-events: none;
    }
    @keyframes dots {
      0% { content: "Analyzing"; }
      25% { content: "Analyzing."; }
      50% { content: "Analyzing.."; }
      75% { content: "Analyzing..."; }
      100% { content: "Analyzing"; }
    }

    @keyframes blink {
      0% { opacity: 0; }
      50% { opacity: 1; }
      100% { opacity: 0; }
    }

    .dot-one {
      animation: blink 1s infinite;
    }
    .dot-two {
      animation: blink 1s infinite;
      animation-delay: 0.2s;
    }
    .dot-three {
      animation: blink 1s infinite;
      animation-delay: 0.4s;
    }


  </style>
</head>
<body>
  <nav>
    <a href="/">Home</a>
    <a href="/privacy">Privacy</a>
    <a href="/contact">Contact</a>
  </nav>

<h1>Lyrics Detector</h1>
  <p class="description">Check if your lyrics were written by a human or generated by AI — for free.</p>
  <p class="tagline">Fast, private, and built specifically for song lyrics.</p>
  <p class="tagline"><em>No sign-up. No cost. Just paste and check.</em></p>


  <textarea id="lyrics" placeholder="Paste your lyrics here..."></textarea>
  <div style="margin-top: 1rem;">
    <button onclick="analyzeLyrics()">Analyze Lyrics Now</button>
    <button onclick="resetForm()" style="margin-left: 1rem; background: #999;">Clear</button>
  </div>
  <div id="loading" style="display: none; margin-top: 1rem; font-style: italic; color: #007acc;">
    Analyzing<span class="dot-one">.</span><span class="dot-two">.</span><span class="dot-three">.</span>
  </div>


  <div id="softError"></div>

  <div class="modal-overlay" id="verdictModal">
    <div class="modal-box">
      <div class="close-btn" onclick="closeVerdict()">×</div>
      <h2 id="verdictTitle">Verdict</h2>
      <p id="verdictMessage">Explanation will go here.</p>
      <p class="disclaimer">This analysis is based on style patterns only. It does not confirm authorship or intent.</p>
    </div>
  </div>

  <p style="font-size: 0.85rem; color: #555; margin-top: 2rem;">
    <a href="/how-it-works.html" style="color: #444; text-decoration: underline;">How it works</a>
  </p>

  <footer>
    <p><strong>Disclaimer:</strong> This tool provides an estimate based on known AI patterns and language model analysis. It does not guarantee accuracy. No lyrics are stored or shared. For entertainment and educational purposes only.</p>
  </footer>

  <script>
    function resetForm() {
      document.getElementById('lyrics').value = '';
      document.getElementById('verdictModal').style.display = 'none';
      document.getElementById('lyrics').classList.remove('blurred');
      document.getElementById('softError').style.display = 'none';
    }
    function closeVerdict() {
      document.getElementById('verdictModal').style.display = 'none';
      document.getElementById('lyrics').classList.remove('blurred');
    }

    async function analyzeLyrics() {
      const text = document.getElementById('lyrics').value.trim();
      const modal = document.getElementById('verdictModal');
      const title = document.getElementById('verdictTitle');
      const message = document.getElementById('verdictMessage');
      const softError = document.getElementById('softError');
      const modalBox = document.querySelector(".modal-box");

      if (!text) {
        modal.style.display = 'none';
        softError.style.display = 'none';
        return;
      }

      softError.style.display = 'none';
      document.getElementById('loading').style.display = 'block';

      try {
        const response = await fetch('https://ai-lyrics-checker.onrender.com/checkLyrics', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ lyrics: text })
        });

        if (response.status === 429) {
          const errorMsg = await response.json();
          softError.innerText = errorMsg.error || "You've hit the daily limit.";
          softError.style.display = 'block';
          modal.style.display = 'none';
          return;
        }

        const data = await response.json();
        const verdict = data.verdict || "Unknown";
        const explanation = data.explanation || "No explanation provided.";
        const conf = parseFloat(data.confidence) || 0;

        // Set verdict color
        if (conf >= 85) modalBox.style.borderTopColor = "#2ecc71";      // Green
        else if (conf >= 50) modalBox.style.borderTopColor = "#f1c40f"; // Yellow
        else if (verdict.toLowerCase().includes("very likely ai")) modalBox.style.borderTopColor = "#e74c3c"; // Red
        else modalBox.style.borderTopColor = "#e67e22";                 // Orange

        title.innerText = verdict;
        message.innerText = explanation;

        document.getElementById('loading').style.display = 'none';
        document.getElementById('lyrics').classList.add('blurred');
        modal.style.display = 'flex';

      } catch (err) {
        title.innerText = "Error";
        message.innerText = "There was a problem reaching the analysis server.";
        modal.style.display = 'flex';
      }
    }
  </script>
</body>
</html>
