<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Lyrics Checker – Was This Song AI-Generated?</title>
  <meta name="description" content="Paste lyrics and instantly check if a song was likely written by AI. Analyze patterns, detect authorship, and explore the difference between human and AI songwriting." />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=IBM+Plex+Mono&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #f9fafa;
      color: #222;
      padding: 2rem;
      max-width: 800px;
      margin: auto;
      text-align: center;
    }
    nav {
      text-align: right;
      margin-bottom: 2rem;
    }
    nav a {
      margin-left: 1.5rem;
      color: #444;
      text-decoration: none;
      font-weight: 500;
      font-size: 0.95rem;
    }
    nav a:hover {
      text-decoration: underline;
    }
    h1 {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 0.4rem;
    }
    p.description {
      font-size: 1.2rem;
      font-weight: 500;
      margin-bottom: 0.3rem;
    }
    p.tagline {
      font-size: 1rem;
      color: #333;
      margin: 0.3rem 0;
    }
    textarea {
      width: 100%;
      height: 220px;
      font-family: 'IBM Plex Mono', monospace;
      font-size: 1rem;
      padding: 1rem;
      border: 2px solid #99ccee;
      border-radius: 8px;
      background: #ffffff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }
    button {
      margin-top: 1.2rem;
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      background: #007acc;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background: #005fa3;
    }
    .verdict {
      margin-top: 2rem;
      padding: 1.2rem 1.5rem;
      font-size: 1.2rem;
      font-weight: 600;
      border-radius: 8px;
      display: inline-block;
    }
    .verdict.human {
      background: #e1fbe8;
      color: #136d1c;
      border: 2px solid #78d88d;
    }
    .verdict.ai {
      background: #fde1e1;
      color: #930000;
      border: 2px solid #e08686;
    }
    .verdict.mixed {
      background: #fff7dd;
      color: #665200;
      border: 2px solid #e6c300;
    }
    .subline {
      font-size: 0.95rem;
      font-weight: 400;
      margin-top: 0.6rem;
    }
    #softError {
      display: none;
      margin-top: 1.5rem;
      color: #a00;
      font-weight: 500;
      background: #ffecec;
      padding: 1rem;
      border-radius: 8px;
      border: 1px solid #f5b4b4;
    }
    footer {
      margin-top: 3rem;
      font-size: 0.85rem;
      color: #666;
    }
  </style>
</head>
<body>
  <nav>
    <a href="/">Home</a>
    <a href="/privacy">Privacy</a>
    <a href="/contact">Contact</a>
  </nav>

  <h1>AI Lyrics Checker</h1>
  <p class="description">Paste your lyrics below.</p>
  <p class="tagline">We use advanced AI and pattern detection to check whether lyrics were likely written by a human or AI-generated.</p>
  <p class="tagline"><em>See how your lyrics hold up under AI detection — designed specifically for song lyrics.</em></p>

  <textarea id="lyrics" placeholder="Paste your lyrics here..."></textarea>
  <div style="margin-top: 1rem;">
    <button onclick="analyzeLyrics()">Analyze Lyrics Now</button>
    <button onclick="resetForm()" style="margin-left: 1rem; background: #999;">Clear</button>
  </div>

  <div id="result"></div>
  <div id="softError"></div>

  <footer>
    <p><strong>Disclaimer:</strong> This tool provides an estimate based on known AI patterns and language model analysis. It does not guarantee accuracy. No lyrics are stored or shared. For entertainment and educational purposes only.</p>
  </footer>

  <script>
    function resetForm() {
      document.getElementById('lyrics').value = '';
      const resultBox = document.getElementById('result');
      resultBox.innerHTML = '';
      resultBox.className = '';
      resultBox.style.display = 'none';
      document.getElementById('softError').style.display = 'none';
    }

    async function analyzeLyrics() {
      const text = document.getElementById('lyrics').value.trim();
      const resultBox = document.getElementById('result');
      const softError = document.getElementById('softError');

      if (!text) {
        resultBox.style.display = 'none';
        softError.style.display = 'none';
        return;
      }

      resultBox.innerHTML = 'Analyzing...';
      resultBox.className = '';
      resultBox.style.display = 'block';
      softError.style.display = 'none';

      const aiPhrases = [
        'dust kicks up', 'amber hue', 'soul gets fed', 'wild winds sing',
        'front porch swing', 'memory flame', 'home collide', 'shimmering veil',
        'aching sky', 'whispers fade', 'call my name', 'endless night'
      ];

      const knownHumanTitles = [
        "imagine", "don't go breaking my heart", "we are the world", "let it be",
        "bohemian rhapsody", "yesterday", "hallelujah", "hey jude", "purple rain"
      ];

      const textLower = text.toLowerCase();
      const phraseHits = aiPhrases.filter(p => textLower.includes(p)).length;
      const isKnownTitle = knownHumanTitles.some(title => textLower.includes(title));

      try {
        const response = await fetch('https://ai-lyrics-checker.onrender.com/checkLyrics', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ lyrics: text })
        });

        if (response.status === 429) {
          const errorMsg = await response.json();
          softError.innerText = errorMsg.error || "You've hit the daily limit.";
          softError.style.display = 'block';
          resultBox.style.display = 'none';
          return;
        }

        const data = await response.json();
        const conf = parseFloat(data.confidence) || 0;

        let verdictLabel = '';
        let className = '';
        let explanation = '';

        if (isKnownTitle) {
          verdictLabel = "Human-written";
          className = "human";
          explanation = "Published lyrics recognized.";
        } else if (conf >= 85) {
          verdictLabel = "Human-written";
          className = "human";
          explanation = "Patterns suggest human authorship.";
        } else if (conf >= 50) {
          verdictLabel = "Possibly human";
          className = "mixed";
          explanation = "Unclear, but leans human.";
        } else if (phraseHits >= 3) {
          verdictLabel = "Very likely AI-generated";
          className = "ai";
          explanation = "Multiple AI-style phrases detected.";
        } else {
          verdictLabel = "Possibly AI-generated";
          className = "ai";
          explanation = "Patterns suggest AI authorship.";
        }

        resultBox.className = 'verdict ' + className;
        resultBox.innerHTML = `
          ${verdictLabel}
          <p class='subline'>${explanation}</p>
        `;
      } catch (err) {
        resultBox.innerHTML = 'Error reaching analysis server.';
        resultBox.className = 'verdict ai';
      }
    }
  </script>
</body>
</html>
