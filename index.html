<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Check if lyrics were likely written by AI. Paste your lyrics and get an instant analysis.">
  <title>AI Lyrics Checker</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f5f4f0;
      color: #222;
      padding: 2rem;
      max-width: 800px;
      margin: auto;
    }
    h1 {
      font-size: 1.8rem;
      margin-bottom: 0.5rem;
    }
    textarea {
      width: 100%;
      height: 220px;
      font-size: 1rem;
      padding: 1rem;
      border: 1px solid #ccc;
      border-radius: 6px;
      background: #fff;
    }
    button {
      margin-top: 1rem;
      padding: 0.7rem 1.5rem;
      font-size: 1rem;
      background: #222;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    #result {
      margin-top: 1.5rem;
      padding: 1rem;
      border-left: 4px solid #444;
      background: #ecebe4;
      display: none;
    }
    .ai {
      border-color: #b30000;
      background: #fcecec;
    }
    .human {
      border-color: #008000;
      background: #e4fce4;
    }
    footer {
      margin-top: 3rem;
      font-size: 0.85rem;
      color: #666;
    }
  </style>
</head>
<script>
    function analyzeLyrics() {
      const text = document.getElementById('lyrics').value.trim();
      const resultBox = document.getElementById('result');
      if (!text) {
        resultBox.style.display = 'none';
        return;
      }
  
      const lines = text.split('\n').map(l => l.trim()).filter(Boolean);
      const totalLines = lines.length;
      let score = 0;
      const explanations = [];
  
      // Human-style indicators (capped impact)
      const hasSpokenLines = lines.some(l => l.toLowerCase().includes('[') || l.toLowerCase().includes('(spoken)'));
      const hasWeirdMetaphors = /flowers.*know|trees.*talk|wind.*remembers|town.*like this/i.test(text);
      const variety = new Set(lines.map(l => l.length)).size > totalLines * 0.6;
      const conversationalMatches = text.match(/(i swear|you know|i think|i miss you|it hurts|i can't explain)/gi) || [];
      const contractions = text.match(/\b(?:don't|can't|won't|i'm|you're|it's|ain't)\b/gi) || [];
  
      let humanOffset = 0;
      if (hasSpokenLines) humanOffset++;
      if (hasWeirdMetaphors) humanOffset++;
      if (variety) humanOffset++;
      if (conversationalMatches.length >= 2) humanOffset++;
      if (contractions.length >= 2) humanOffset++;
      humanOffset = Math.min(humanOffset, 2); // cap offset
  
      // AI markers
      const repeatedMap = {};
      lines.forEach((line) => {
        repeatedMap[line] = (repeatedMap[line] || 0) + 1;
      });
      const repeated = Object.values(repeatedMap).filter(count => count > 1);
      if (repeated.length > 0 && repeated.reduce((a, b) => a + b, 0) < totalLines * 0.4) {
        score++;
        explanations.push('• Repeated identical lines.');
      }
  
      const starts = lines.map(l => l.split(' ')[0]?.toLowerCase()).filter(Boolean);
      const freq = {};
      starts.forEach(w => freq[w] = (freq[w] || 0) + 1);
      const repeatedStart = Object.values(freq).some(v => v >= 4);
      if (repeatedStart) {
        score++;
        explanations.push('• Several lines start the same way.');
      }
  
      const lengths = lines.map(l => l.split(' ').length);
      const avg = lengths.reduce((a, b) => a + b, 0) / lengths.length;
      const tight = lengths.filter(n => Math.abs(n - avg) <= 1).length / lengths.length > 0.9;
      if (tight && lengths.length > 6 && !lines.every(l => l.length < 4)) {
        score++;
        explanations.push('• Lines have nearly identical word count.');
      }
  
      const aiPhrases = ['fading light','broken heart','endless night','guardian soul','call my name','reign of terror','dream away','shattered','rise again'];
      const phraseHits = aiPhrases.filter(p => text.toLowerCase().includes(p)).length;
      if (phraseHits >= 2) {
        score++;
        explanations.push('• Uses familiar AI-style phrases.');
      }
  
      const endings = lines.map(l => l.split(' ').pop()?.slice(-2)).filter(Boolean);
      const groups = {};
      endings.forEach(e => groups[e] = (groups[e] || 0) + 1);
      const overRhymes = Object.values(groups).filter(v => v >= 4).length;
      if (overRhymes >= 2) {
        score++;
        explanations.push('• Many lines end in similar sounds.');
      }
  
      // Updated: Hard-to-sing phrasing
      const singabilityLines = lines.filter(line => {
        const dense = line.split(' ').length >= 8;
        const hardStart = /^\s*[bcdfghjklmnpqrstvwxyz]{2,}/i.test(line.split(' ')[0] || '');
        const roughMatch = /(skyscrapers?|twists?|vaults?|scrape|splits?|screams?|grit|strain)/i.test(line);
        return dense && (hardStart || roughMatch);
      });
      if (singabilityLines.length >= 1) {
        score++;
        explanations.push('• At least one line may be difficult to sing due to density or hard consonants.');
      }
  
      // Dense mixed metaphor count
      const metaphorCount = (text.match(/(skyscraper|ocean|treasure|flame|maze|storm|river|light|spark|chain|echo|shadow|bond)/gi) || []).length;
      if (metaphorCount >= 6) {
        score++;
        explanations.push('• Dense mix of visual metaphors without clear cohesion.');
      }
  
      // Apply human offset
      score = Math.max(0, score - humanOffset);
  
      let verdict = 'Likely human-written';
      resultBox.className = 'human';
      if (score === 3) {
        verdict = 'Borderline – AI-like structure detected';
        resultBox.className = 'ai';
      } else if (score >= 4) {
        verdict = 'Very likely AI-generated';
        resultBox.className = 'ai';
      } else if (score === 2) {
        verdict = 'Possibly AI-generated';
        resultBox.className = 'ai';
      }
  
      resultBox.innerHTML = `
        <div style='font-size: 1.1rem; margin-bottom: 0.5rem;'>${verdict}</div>
        <div style='font-size: 0.95rem; color: #444;'>This analysis is based on stylistic markers commonly found in AI-generated lyrics, such as repetition and uniform line lengths. These markers are indicators — not certainties.</div>
        <details style='margin-top: 1rem;'>
          <summary style='cursor: pointer; font-weight: bold;'>Why this result?</summary>
          <div style='margin-top: 0.5rem;'>${explanations.join('<br>')}</div>
        </details>`;
      resultBox.style.display = 'block';
    }
  </script>
<body>
  <h1>AI Lyrics Checker</h1>
  <p>Paste your lyrics below. We’ll analyze the structure, repetition, and phrasing to detect signs of AI generation.</p>

  <textarea id="lyrics" placeholder="Paste your lyrics here..."></textarea>
  <button onclick="analyzeLyrics()">Check Lyrics</button>
  <div id="result"></div>

  <footer>
    <p><strong>Disclaimer:</strong> This tool provides an estimate based on known AI patterns and does not guarantee accuracy. No lyrics are stored or shared. For entertainment and educational purposes only.</p>
  </footer>
